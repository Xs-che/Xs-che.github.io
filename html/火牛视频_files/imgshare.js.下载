var bdshareBase=bdshareBase||{};(function(A){A.version="1.5.2.2";A.guid="$BAIDU$";A.$$=window[A.guid]=window[A.guid]||{global:{}};A.page=A.page||{};A.page.loadCssFile=function(B){var C=document.createElement("link");C.setAttribute("rel","stylesheet");C.setAttribute("type","text/css");C.setAttribute("href",B);document.getElementsByTagName("head")[0].appendChild(C)};A.object=A.object||{};A.object.keys=function(D){var C=[],E=0,B;for(B in D){if(D.hasOwnProperty(B)){C[E++]=B}}return C};A.browser=A.browser||{};A.browser.ie=A.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;A.dom=A.dom||{};A.dom.g=function(B){if(!B){return null}if("string"==typeof B||B instanceof String){return document.getElementById(B)}else{if(B.nodeName&&(B.nodeType==1||B.nodeType==9)){return B}}return null};A.g=A.G=A.dom.g;A.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp["\x246"]||RegExp["\x242"]):undefined;A.dom.insertHTML=function(E,C,F){E=A.dom.g(E);var B,D;if(E.insertAdjacentHTML&&!A.browser.opera){E.insertAdjacentHTML(C,F)}else{B=E.ownerDocument.createRange();C=C.toUpperCase();if(C=="AFTERBEGIN"||C=="BEFOREEND"){B.selectNodeContents(E);B.collapse(C=="AFTERBEGIN")}else{D=C=="BEFOREBEGIN";B[D?"setStartBefore":"setEndAfter"](E);B.collapse(D)}B.insertNode(B.createContextualFragment(F))}return E};A.insertHTML=A.dom.insertHTML;A.dom._styleFixer=A.dom._styleFixer||{};A.dom._styleFilter=A.dom._styleFilter||[];A.dom._styleFilter.filter=function(B,E,D){for(var C=0,F=A.dom._styleFilter,G;G=F[C];C++){if(G=G[D]){E=G(B,E)}}return E};A.string=A.string||{};A.string.toCamelCase=function(B){if(B.indexOf("-")<0&&B.indexOf("_")<0){return B}return B.replace(/[-_][^-_]/g,function(C){return C.charAt(1).toUpperCase()})};A.dom.setStyle=function(F,B,E){var D=A.dom,C;F=D.g(F);B=A.string.toCamelCase(B);if(C=D._styleFilter){E=C.filter(B,E,"set")}C=D._styleFixer[B];(C&&C.set)?C.set(F,E,B):(F.style[C||B]=E);return F};A.setStyle=A.dom.setStyle;A.dom.setStyles=function(B,D){B=A.dom.g(B);for(var C in D){A.dom.setStyle(B,C,D[C])}return B};A.setStyles=A.dom.setStyles;(function(){var B=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");A.string.trim=function(C){return String(C).replace(B,"")}})();A.trim=A.string.trim;A.string.escapeReg=function(B){return String(B).replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\\x241")};A.dom.q=function(C,F,I){var B=[],G=A.string.trim,D,E,J,H;if(!(C=G(C))){return B}if("undefined"==typeof F){F=document}else{F=A.dom.g(F);if(!F){return B}}I&&(I=G(I).toUpperCase());if(F.getElementsByClassName){J=F.getElementsByClassName(C);D=J.length;for(E=0;E<D;E++){H=J[E];if(I&&H.tagName!=I){continue}B[B.length]=H}}else{C=new RegExp("(^|\\s)"+A.string.escapeReg(C)+"(\\s|\x24)");J=I?F.getElementsByTagName(I):(F.all||F.getElementsByTagName("*"));D=J.length;for(E=0;E<D;E++){H=J[E];C.test(H.className)&&(B[B.length]=H)}}return B};A.q=A.Q=A.dom.q;A.event=A.event||{};A.event._listeners=A.event._listeners||[];A.lang=A.lang||{};A.lang.isString=function(B){return"[object String]"==Object.prototype.toString.call(B)};A.isString=A.lang.isString;A.dom._g=function(B){if(A.lang.isString(B)){return document.getElementById(B)}return B};A._g=A.dom._g;A.event.on=function(B,G,E){G=G.replace(/^on/i,"");B=A.dom._g(B);var F=function(J){E.call(B,J)},C=A.event._listeners,H=A.event._eventFilter,D,I=G;G=G.toLowerCase();if(H&&H[G]){D=H[G](B,G,F);I=D.type;F=D.listener}if(B.addEventListener){B.addEventListener(I,F,false)}else{if(B.attachEvent){B.attachEvent("on"+I,F)}}C[C.length]=[B,G,E,F,I];return B};A.on=A.event.on;A.event.un=function(H,E,I){H=A.dom._g(H);E=E.replace(/^on/i,"").toLowerCase();var B=A.event._listeners,G=B.length,F=!I,C,D,J;while(G--){C=B[G];if(C[1]===E&&C[0]===H&&(F||C[2]===I)){D=C[4];J=C[3];if(H.removeEventListener){H.removeEventListener(D,J,false)}else{if(H.detachEvent){H.detachEvent("on"+D,J)}}B.splice(G,1)}}return H};A.un=A.event.un;A.event.preventDefault=function(B){if(B.preventDefault){B.preventDefault()}else{B.returnValue=false}};A.dom.getDocument=function(B){B=A.dom.g(B);return B.nodeType==9?B:B.ownerDocument||B.document};A.dom.getComputedStyle=function(B,C){B=A.dom._g(B);var D=A.dom.getDocument(B),E;if(D.defaultView&&D.defaultView.getComputedStyle){E=D.defaultView.getComputedStyle(B,null);if(E){return E[C]||E.getPropertyValue(C)}}return""};A.dom.getStyle=function(F,B){var D=A.dom;F=D.g(F);B=A.string.toCamelCase(B);var E=F.style[B]||(F.currentStyle?F.currentStyle[B]:"")||D.getComputedStyle(F,B);if(!E||E=="auto"){var C=D._styleFixer[B];if(C){E=C.get?C.get(F,B,E):A.dom.getStyle(F,C)}}if(C=D._styleFilter){E=C.filter(B,E,"get")}return E};A.getStyle=A.dom.getStyle;A.browser.isWebkit=/webkit/i.test(navigator.userAgent);A.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);A.browser.isStrict=document.compatMode=="CSS1Compat";A.dom.getPosition=function(M){M=A.dom.g(M);var D=A.dom.getDocument(M),J=A.browser,G=A.dom.getStyle,K=J.isGecko>0&&D.getBoxObjectFor&&G(M,"position")=="absolute"&&(M.style.top===""||M.style.left===""),F={left:0,top:0},H=(J.ie&&!J.isStrict)?D.body:D.documentElement,C,L;if(M==H){return F}if(M.getBoundingClientRect){L=M.getBoundingClientRect();F.left=L.left+Math.max(D.documentElement.scrollLeft,D.body.scrollLeft);F.top=L.top+Math.max(D.documentElement.scrollTop,D.body.scrollTop);F.left-=D.documentElement.clientLeft;F.top-=D.documentElement.clientTop;var E=D.body,B=parseInt(G(E,"borderLeftWidth")),I=parseInt(G(E,"borderTopWidth"));if(J.ie&&!J.isStrict){F.left-=isNaN(B)?2:B;F.top-=isNaN(I)?2:I}}else{C=M;do{F.left+=C.offsetLeft;F.top+=C.offsetTop;if(J.isWebkit>0&&G(C,"position")=="fixed"){F.left+=D.body.scrollLeft;F.top+=D.body.scrollTop;break}C=C.offsetParent}while(C&&C!=M);if(J.opera>0||(J.isWebkit>0&&G(M,"position")=="absolute")){F.top-=D.body.offsetTop}C=M.offsetParent;while(C&&C!=D.body){F.left-=C.scrollLeft;if(!J.opera||C.tagName!="TR"){F.top-=C.scrollTop}C=C.offsetParent}}return F};A.page.getScrollTop=function(){var B=document;return window.pageYOffset||B.documentElement.scrollTop||B.body.scrollTop};A.page.getScrollLeft=function(){var B=document;return window.pageXOffset||B.documentElement.scrollLeft||B.body.scrollLeft};A.page.getViewHeight=function(){var B=document,C=B.compatMode=="BackCompat"?B.body:B.documentElement;return C.clientHeight};A.page.getViewWidth=function(){var B=document,C=B.compatMode=="BackCompat"?B.body:B.documentElement;return C.clientWidth};A.array=A.array||{};A.each=A.array.forEach=A.array.each=function(D,F,B){var G,E,H,C=D.length;if("function"==typeof F){for(H=0;H<C;H++){E=D[H];G=F.call(B||D,E,H);if(G===false){break}}}return D};A.string.format=function(E,C){E=String(E);var B=Array.prototype.slice.call(arguments,1),D=Object.prototype.toString;if(B.length){B=B.length==1?(C!==null&&(/\[object Array\]|\[object Object\]/.test(D.call(C)))?C:B):B;return E.replace(/#\{(.+?)\}/g,function(H,F){var G=B[F];if("[object Function]"==D.call(G)){G=G(F)}return("undefined"==typeof G?"":G)})}return E};A.format=A.string.format;A.event.getTarget=function(B){return B.target||B.srcElement};A.dom._NAME_ATTRS=(function(){var B={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(A.browser.ie<8){B["for"]="htmlFor";B["class"]="className"}else{B.htmlFor="for";B.className="class"}return B})();A.dom.getAttr=function(B,C){B=A.dom.g(B);if("style"==C){return B.style.cssText}C=A.dom._NAME_ATTRS[C]||C;return B.getAttribute(C)};A.getAttr=A.dom.getAttr;A.dom.remove=function(C){C=A.dom._g(C);var B=C.parentNode;B&&B.removeChild(C)};A.dom.getParent=function(B){B=A.dom._g(B);return B.parentElement||B.parentNode||null};A.dom.hide=function(B){B=A.dom.g(B);B.style.display="none";return B};A.hide=A.dom.hide;A.dom.show=function(B){B=A.dom.g(B);B.style.display="";return B};A.show=A.dom.show;A.string.encodeHTML=function(B){return String(B).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};A.encodeHTML=A.string.encodeHTML;A.dom.setAttr=function(B,C,D){B=A.dom.g(B);if("style"==C){B.style.cssText=D}else{C=A.dom._NAME_ATTRS[C]||C;B.setAttribute(C,D)}return B};A.setAttr=A.dom.setAttr;A.url=A.url||{};A.url.escapeSymbol=function(B){return String(B).replace(/[#%&+=\/\\\ \ã€€\f\r\n\t]/g,function(C){return"%"+(256+C.charCodeAt()).toString(16).substring(1).toUpperCase()})};A.object.each=function(D,F){var B,C,E;if("function"==typeof F){for(C in D){if(D.hasOwnProperty(C)){E=D[C];B=F.call(D,E,C);if(B===false){break}}}}return D};A.lang.isArray=function(B){return"[object Array]"==Object.prototype.toString.call(B)};A.url.jsonToQuery=function(F,D){var C=[],E,B=D||function(G){return A.url.escapeSymbol(G)};A.object.each(F,function(G,H){if(A.lang.isArray(G)){E=G.length;while(E--){C.push(H+"="+B(G[E],H))}}else{C.push(H+"="+B(G,H))}});return C.join("&")};A.extend=A.object.extend=function(D,C){for(var B in C){if(C.hasOwnProperty(B)){D[B]=C[B]}}return D};A.dom.addClass=function(E,D){E=A.dom.g(E);var B=D.split(/\s+/),C=E.className,F=" "+C+" ",G=0,H=B.length;for(;G<H;G++){if(F.indexOf(" "+B[G]+" ")<0){C+=(C?" ":"")+B[G]}}E.className=C;return E};A.addClass=A.dom.addClass;A.dom.removeClass=function(F,E){F=A.dom.g(F);var H=F.className.split(/\s+/),D=E.split(/\s+/),B,C=D.length,I,G=0;for(;G<C;++G){for(I=0,B=H.length;I<B;++I){if(H[I]==D[G]){H.splice(I,1);break}}}F.className=H.join(" ");return F};A.removeClass=A.dom.removeClass;A.dom.hasClass=function(E,D){E=A.dom.g(E);if(!E||!E.className){return false}var B=A.string.trim(D).split(/\s+/),C=B.length;D=E.className.split(/\s+/).join(" ");while(C--){if(!(new RegExp("(^| )"+B[C]+"( |\x24)")).test(D)){return false}}return true};A.dom.toggleClass=function(C,B){if(A.dom.hasClass(C,B)){A.dom.removeClass(C,B)}else{A.dom.addClass(C,B)}}})(bdshareBase);var bdShare=bdShare||{};bdShare.lib=bdShare.lib||{};bdShare._LogPool=bdShare._LogPool||[];(function(B){var C=bdshareBase;B.isShareWeb=(new RegExp("([http|https]://[a-zA-Z0-9_.]+.baidu.com)","ig")).test(window.location.href);B.anti={timespan:(function(){var E=new Date().getTime(),D=new Date().getTime();return{init:function(){D=new Date().getTime()+1000},getValue:function(){return E.toString(32)+D.toString(32)+new Date().getTime().toString(32)}}})(),sloc:(function(){var I=0,E={x:0,y:0},D={x:0,y:0},J=-1,G=[];function H(M){return C.getMousePos(M)}function K(M){M=M||window.event;E=H(M);if(E.x>0&&E.y>0){C.un(document,"mousemove",K)}}function F(M){J=-1}function L(P){P=P||window.event;var O=P.target||P.srcElement,N=C.dom.getPosition(O),M=H(P);D.x=M.x-N.left;D.y=M.y-N.top;J=new Date().getTime()}return{init:function(M){I=M;C.on(document,"mousemove",K)},append:function(N,M){C.array.each(N,function(O){G.push(O);C.setAttr(O,"data-btype",M);C.on(O,"mouseover",L);C.on(O,"mouseout",F)})},destory:function(){C.un(document,"mousemove",K);C.array.each(G,function(M){C.un(M,"mouseover",L);C.un(M,"mouseout",F)});G=[]},getValue:function(V,W,R){W=W||window.event;var Z=R||C.getAttr(V,"data-btype")||I,M=Math.floor(E.x),c=Math.floor(E.y),T=Z>0?1:0,Y=Math.floor(D.x),X=Math.floor(D.y),N=C.dom.getPosition(V),P=H(W),Q=Math.floor(P.x-N.left),O=Math.floor(P.y-N.top),a=Math.floor(V.offsetWidth),U=Math.floor(V.offsetHeight),S=Z,b=new Date().getTime()-J;return[M,c,T,Y,X,Q,O,a,U,S,b].join(".")}}})(),getLinkId:(function(){var D=(+new Date).toString(36);return function(){var I="0123456789abcdefghijklmnopqrstuvwxyz",J=3,E=I.length,G="";for(var F=1;F<=J;F++){var H=Math.floor(E*Math.random());G=G+I.charAt(H)}return D+G}})()};B.log={request:(function(){var D=[];return function(E){var G="bdsharelog__"+(new Date()).getTime(),F=D[G]=new Image();F.onload=(F.onerror=function(){D[G]=null});F.src=E;F=null}})(),send:function(F,D){var E=(D=="load"?"http://nsclick.baidu.com/v.gif?pid=307&":"http://s.share.baidu.com/commit?");B.log.request(E+(C.isString(F)?F:C.url.jsonToQuery(F)))}};B.BaseClass=function(){var D=this,E={};D.on=function(G,H){var F=E[G];if(!F){F=E[G]=[]}F.push(H)};D.un=function(G,H){if(!G){E={};return }var F=E[G];if(F){if(H){C.array.each(F,function(J,I){if(J==H){F.splice(I,1);return false}})}else{E[G]=[]}}};D.fire=function(G,H){var F=E[G];if(F){H=H||{};C.array.each(F,function(I){H._result=I.call(D,C.extend({_ctx:{src:D}},H))})}}};var A={};A.create=function(D,F){F=F||B.BaseClass;return function E(){F.apply(this,arguments);var G=C.extend({},this);D.apply(this,arguments);this._super=G}};B.Class=A;C.getMousePos=function(D){if(D.pageX||D.pageY){return{x:D.pageX,y:D.pageY}}if(document.documentElement&&document.documentElement.scrollTop){return{x:D.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:D.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}}else{if(document.body){return{x:D.clientX+document.body.scrollLeft-document.body.clientLeft,y:D.clientY+document.body.scrollTop-document.body.clientTop}}}};C.setFixed=(function(){var E=null,D=null;function G(){C.setStyles(E,F(E,D));C.dom.toggleClass(E,"xxxx4ie")}function F(H,J){var I=C.extend({},J);if(typeof J.top!="undefined"){I.top=(C.page.getScrollTop()+J.top)+"px"}else{if(typeof J.bottom!="undefined"){I.bottom=J.bottom+"px"}}if(typeof J.left!="undefined"){I.left=(C.page.getScrollLeft()+J.left)+"px"}else{if(typeof J.right!="undefined"){I.right=J.right+"px"}}return I}return function(I,L){E=I;D=L;var J=C.getStyle(I,"zIndex");if(!J||(J=="auto")){J=9999}if(C.browser.ie<=6){var K={position:"absolute",zIndex:J};for(var H in L){K[H]=L[H]+"px"}C.extend(K,F(I,L));C.setStyles(I,K);C.un(window,"scroll",G);C.on(window,"scroll",G)}else{var K={position:"fixed",zIndex:J};for(var H in L){K[H]=L[H]+"px"}C.setStyles(I,K)}}})()})(bdShare.lib);var bdShare=bdShare||{};(function(H){var B=bdshareBase,I=bdShare.lib,D={web:"http://share.baidu.com",staticUrl:"http://bdimg.share.baidu.com",jumpUrl:"http://s.share.baidu.com",mshareUrl:"http://s.share.baidu.com/mshare"};var G=B.dom.getPosition;B.dom.getPosition=function(L){var M=G(L);if(B.browser.ie&&(navigator.userAgent.toLowerCase().indexOf("se 2.x")!=-1)){if(document.compatMode&&(document.compatMode=="BackCompat")){M.top+=2;M.left+=2}}return M};var F={mshare:{name:"\u4e00\u952e\u5206\u4eab"},qzone:{name:"QQ\u7a7a\u95f4"},tsina:{name:"\u65b0\u6d6a\u5fae\u535a"},renren:{name:"\u4eba\u4eba\u7f51"},tqq:{name:"\u817e\u8baf\u5fae\u535a"},bdxc:{name:"\u767e\u5ea6\u76f8\u518c"},kaixin001:{name:"\u5f00\u5fc3\u7f51"},tqf:{name:"\u817e\u8baf\u670b\u53cb"},tieba:{name:"\u767e\u5ea6\u8d34\u5427"},douban:{name:"\u8c46\u74e3\u7f51"},tsohu:{name:"\u641c\u72d0\u5fae\u535a"},bdhome:{name:"\u767e\u5ea6\u65b0\u9996\u9875"},sqq:{name:"QQ\u597D\u53CB"},thx:{name:"\u548c\u8baf\u5fae\u535a"},qq:{name:"QQ\u6536\u85cf"},taobao:{name:"\u6211\u7684\u6dd8\u5b9d"},baidu:{name:"\u767E\u5EA6\u641C\u85CF"},hi:{name:"\u767e\u5ea6\u7a7a\u95f4"},sohu:{name:"\u641c\u72d0\u767d\u793e\u4f1a"},t163:{name:"\u7f51\u6613\u5fae\u535a"},qy:{name:"\u5947\u827a\u5947\u8c08"},meilishuo:{name:"\u7f8e\u4e3d\u8bf4"},mogujie:{name:"\u8611\u83c7\u8857"},diandian:{name:"\u70b9\u70b9\u7f51"},huaban:{name:"\u82b1\u74e3"},leho:{name:"\u7231\u4e50\u6d3b"},share189:{name:"\u624B\u673A\u5FEB\u4F20"},duitang:{name:"\u5806\u7cd6"},hx:{name:"\u548c\u8baf"},tfh:{name:"\u51e4\u51f0\u5fae\u535a"},fx:{name:"\u98de\u4fe1"},youdao:{name:"\u6709\u9053\u4e91\u7b14\u8bb0"},sdo:{name:"\u9EA6\u5E93\u8BB0\u4E8B"},qingbiji:{name:"\u8F7B\u7B14\u8BB0"},ifeng:{name:"\u51E4\u51F0\u5FEB\u535A"},people:{name:"\u4EBA\u6C11\u5FAE\u535A"},xinhua:{name:"\u65B0\u534E\u5FAE\u535A"},ff:{name:"\u996d\u5426"},mail:{name:"\u90ae\u4ef6\u5206\u4eab"},kanshou:{name:"\u641C\u72D0\u968F\u8EAB\u770B"},yaolan:{name:"\u6447\u7BEE\u7A7A\u95F4"},wealink:{name:"\u82e5\u90bb\u7f51"},xg:{name:"\u9c9c\u679c"},ty:{name:"\u5929\u6daf\u793e\u533a"},fbook:{name:"Facebook"},twi:{name:"Twitter"},deli:{name:"delicious"},s51:{name:"51\u6E38\u620F\u793e\u533a"},s139:{name:"139\u8bf4\u5ba2"},linkedin:{name:"linkedin"},copy:{name:"\u590d\u5236\u7f51\u5740"},print:{name:"\u6253\u5370"}};var K=function(N){var O=this,L=false,M=false;function Q(){if(M){M=clearTimeout(M)}if(!L){L=setTimeout(function(){N.startFn&&N.startFn();L=false},N.time)}}function P(){if(L){L=clearTimeout(L)}if(!M){M=setTimeout(function(){N.abortFn&&N.abortFn();M=false},N.time)}}O.clearAbort=function(){if(M){M=clearTimeout(M)}};O.start=Q;O.abort=P};var A=I.Class.create(function(P){var V=this,X="bdimgshare_"+new Date().getTime(),L=null,O=null,U=null,S=B.object.keys(F);function N(){var Y=["<div id='#{id}' style='position:absolute;z-index:99999;margin:0px;padding:0px;border:none;float:left;'>",(B.browser.ie<=6?"<iframe style='position:absolute;width:100%;height:100%;z-index:-1;' frameborder=0></iframe>":""),"<div id='#{id}' class='sr-bdimgshare-layer sr-bdimgshare-pl'>","<div class='bdimgshare-layer-pnl'>","<h6>\u5206\u4eab\u5230</h6>","<div class='bdimgshare-layer-list'>#{list}<div class='clear'></div></div>","<p class='bdimgshare-layer-foot'><a href='"+D.web+"' class='bdimgshare-layer-toshare' target='_blank'>\u767e\u5ea6\u5206\u4eab</a></p>","</div></div>","</div>"].join("");L=new J(S.slice(0,15).concat(["more"]),Y);B.insertHTML(document.body,"beforeEnd",L.render());B.setStyles(L.getEntity(),{width:B.g(L.getEntity()).offsetWidth+"px",height:B.g(L.getEntity()).offsetHeight+"px"});L.init();L.on("click",function(a){if(a.cmd=="more"){T();L.hide()}else{V.fire("click",{cmd:a.cmd,element:a.element,domEvent:a.domEvent})}});B.on(L.getEntity(),"mouseover",function(){O&&O.clearAbort()});B.on(L.getEntity(),"mouseout",function(){O&&O.abort()});var Z=L.getButtons();Z.pop();I.anti.sloc.append(Z,1)}function R(Y){if(L){L.show();Y=Y||W();B.setStyles(L.getEntity(),{top:Y.top+"px",left:Y.left+"px"})}}function W(){var e=L.getEntity(),a=B.g(e).offsetHeight,Z=B.dom.getPosition(X),Y=B.g(X).offsetHeight,d=(P.pos=="bottom");if(d){if((Z.top-a)<B.page.getScrollTop()){d=false}}else{if((Z.top+Y)>(B.page.getScrollTop()+B.page.getViewHeight()-a)){d=true}}var c=(d?Z.top-a:Z.top+Y),b=Z.left+B.g(X).offsetWidth-B.g(e).offsetWidth;return{top:c,left:(b>=0?b:Z.left)}}function Q(){var Y=["<div id='#{id}' style='z-index:1000000;margin:0px;padding:0px;border:none;float:left;'>",(B.browser.ie<=6?"<iframe style='position:absolute;width:100%;height:100%;z-index:-1;' frameborder=0></iframe>":""),"<div class='sr-bdimgshare-pop sr-bdimgshare-pl'>","<div class='bdimgshare-pop-pnl'>","<h6><span>\u5206\u4eab\u5230</span><a href='#' onclick='return false;' class='bdimgshare-pop-close' hidefocus></a></h6>","<div class='bdimgshare-pop-list'>#{list}<div class='clear'></div></div>","<p class='bdimgshare-pop-foot'><a href='"+D.web+"' class='bdimgshare-pop-toshare' target='_blank'>\u767e\u5ea6\u5206\u4eab</a></p>","</div></div>","</div>"].join("");U=new J(S,Y,"bdimgshare-pop-close");B.insertHTML(document.body,"beforeEnd",U.render());B.setStyles(U.getEntity(),{width:B.g(U.getEntity()).offsetWidth+"px",height:B.g(U.getEntity()).offsetHeight+"px"});U.init();U.on("click",function(Z){V.fire("click",{cmd:Z.cmd,element:Z.element,domEvent:Z.domEvent})});B.on(window,"resize",M);I.anti.sloc.append(U.getButtons(),2)}function M(){if(U){var Y=U.getEntity();B.setFixed(Y,{top:(B.page.getViewHeight()-B.g(Y).offsetHeight)/2,left:(B.page.getViewWidth()-B.g(Y).offsetWidth)/2})}}function T(){if(!U){Q()}U.show();M()}V.getEntity=function(){return X};V.getButtons=function(){return B.q("bdimgshare-icon",X)};V.hasPop=function(){return(L&&L.isVisible())||(U&&U.isVisible())};V.clearPop=function(){L&&L.hide();U&&U.hide()};V.clearAllPop=function(){U&&U.hide()};V.clearHoverPop=function(){L&&L.hide()};V.render=function(){if(P.type=="collection"){var b=["<div id='#{id}' class='sr-bdimgshare-collection sr-bdimgshare-coll-#{type}-#{size} sr-bdimgshare-coll-#{color}' style='position:absolute; left:-9999px; display:none; #{zindex}'>",(P.hidden||"").indexOf("collect")>-1?"":"<a class='bdimgshare-coll-coll' data-cmd='sbdxc' href='#' onclick='return false;'>\u6536\u85CF</a>",(P.hidden||"").indexOf("share")>-1?"":"<a class='bdimgshare-coll-share' data-cmd='more' href='#' onclick='return false;'>\u5206\u4EAB</a>","</div>"].join("");return B.format(b,{id:X,size:P.size,color:P.color,type:P.subtype||1,zindex:P.zindex?"z-index:"+P.zindex:""})}else{var b=["<div id='#{id}' class='sr-bdimgshare sr-bdimgshare-#{type} sr-bdimgshare-#{size} sr-bdimgshare-#{color}' style='height:#{height};line-height:#{height};font-size:#{fontSize};width:#{width};display:none;'>","<div class='bdimgshare-bg'></div>","<div class='bdimgshare-content'>","<label class='bdimgshare-lbl'>#{text}</label>","#{list}","</div>","</div>"].join(""),c="<a href='#' onclick='return false;' class='bdimgshare-icon bdshare-i-#{icon}' data-cmd='#{icon}' hidefocus></a>";var f=(P.type=="list"),Z=[];if(f){B.array.each(P.list,function(g){Z.push(B.format(c,{icon:g}))})}Z.push(B.format(c,{icon:"more"}));var a={small:"36px",big:"48px"},e={small:"33px",big:"45px"},Y={small:"60px",big:"82px"},d={small:"12px",big:"14px"};return B.format(b,{id:X,text:P.text||(f?"\u56fe\u7247\u5206\u4eab":"\u5206\u4eab"),type:P.type,size:P.size,color:P.color,width:(f?"auto":Y[P.size]),height:(f?a:e)[P.size],fontSize:d[P.size],list:Z.join("")})}};V.init=function(){if(B.g(X)){B.on(X,"click",function(a){a=a||window.event;var c=B.event.getTarget(a),b=B.getAttr(c,"data-cmd");if(b){if(b=="more"){T()}else{V.fire("click",{cmd:b,element:c,domEvent:a})}}});var Y=B.q("bdimgshare-icon",X);Y.pop();I.anti.sloc.append(Y,0);var Z=B.q("bdshare-i-more",X)[0];O=new K({time:200,startFn:function(){if(U&&U.isVisible()){return }if(!L){N()}R()},abortFn:function(){L&&L.hide()}});Z&&B.on(Z,"mouseover",function(){O.start()});Z&&B.on(Z,"mouseout",function(){O.abort()})}};V.destroy=function(){if(B.g(X)){B.un(window,"resize",M);B.un(X,"click");L&&L.destroy();L=null;U&&U.destroy();U=null;B.dom.remove(X)}};V.showAllPop=function(){T()};V.showHoverPop=function(Y){if(!L){N()}R(Y)}});var J=I.Class.create(function(P,M,L){var O=this,N="bdimgshare_pop_"+new Date().getTime(),Q="<a href='#' onclick='return false;' class='bdimgshare-p-icon bdshare-i-#{pid}' data-cmd='#{pid}' hidefocus>#{pname}</a>";O.getEntity=function(){return N};O.getButtons=function(){return B.q("bdimgshare-p-icon",N)};O.isVisible=function(){if(B.g(N)){return B.getStyle(N,"display")!="none"}return false};O.render=function(){var R=[];B.array.each(P,function(S){var T=F[S];if(!T&&(S=="more")){T={name:"\u66F4\u591A..."}}if(!T){return false}R.push(B.format(Q,{pid:S,pname:T.name}))});return B.format(M,{id:N,close:" data-act='close' ",list:R.join("")})};O.init=function(){if(B.g(N)){if(L){var R=B.q(L,N);B.array.each(R,function(T){B.on(T,"click",function(){O.hide()})})}var S=B.dom.getParent(B.q("bdimgshare-p-icon",N)[0]);B.on(S,"click",function(T){T=T||window.event;var V=B.event.getTarget(T),U=B.getAttr(V,"data-cmd");if(U){O.fire("click",{cmd:U,element:V,domEvent:T})}})}};O.show=function(){B.show(N)};O.hide=function(){B.hide(N)};O.destroy=function(){B.dom.remove(N)}});var E=(function(){var M=null,h=null,S={},V="",f=[],i="bdshare_printFrm_img_"+new Date().getTime();function W(n,q,t){if(!V){return }var o="click=1&to=#{to}&url=#{url}&title=#{title}&uid=#{uid}&type=text&pic=#{pic}&key=#{key}&sign=on&desc=&comment=&searchPic=&relatedUid=&l=#{l}&linkid=#{linkid}&sloc=#{sloc}&apiType=#{apiType}&buttonType=#{buttonType}&_t=#{_t}",w=(S.srcSet?S.srcSet[n]:""),u={single:4,list:3,collection:5}[S.type],k={to:"sbdxc"==n?"bdxc":n,url:encodeURIComponent(window.location.href),title:S.content||encodeURIComponent(document.title),pic:encodeURIComponent(V),key:w||"",uid:S.uid||"",l:I.anti.timespan.getValue(),linkid:I.anti.getLinkId(),apiType:1,buttonType:u,sloc:I.anti.sloc.getValue(q,t),_t:new Date().getTime()},p=B.format(o,k);setTimeout(function(){I.log.send(p,"click")},1500);if(n=="mail"){var j=D.jumpUrl+"/sendmail";window.open(j+"?"+p,"_blank")}else{if(n=="mshare"){window.open(D.mshareUrl+"?"+p)}else{if(n=="bdxc"){var r=window,v=document,l="_bdXC",x;if(r[l]){if(window._bdXC_loaded){r[l].reInit()}}else{x=v.createElement("script");x.setAttribute("charset","utf-8");x.src="http://xiangce.baidu.com/zt/collect/mark.js?"+(new Date()).getTime();v.getElementsByTagName("head")[0].appendChild(x)}}else{window.open(D.jumpUrl+"?"+p)}}}}function Z(){if(!V){return }if(B.browser.ie){window.clipboardData.setData("text",V);alert("\u56FE\u7247\u7F51\u5740\u590d\u5236\u6210\u529f\uff0c\u60a8\u53ef\u4ee5\u63a8\u8350\u7ed9QQ/MSN\u4e0a\u7684\u597d\u53cb\u4e86\uff01")}else{window.prompt("\u60a8\u4f7f\u7528\u7684\u662f\u975eIE\u6838\u5fc3\u6d4f\u89c8\u5668\uff0c\u8bf7\u6309\u4e0b Ctrl+C \u590d\u5236\u4ee3\u7801\u5230\u526a\u8d34\u677f",V)}}function O(){if(!V){return }if(B.browser.ie){var k=[];B.array.each(document.body.childNodes,function(m,l){k[l]=m.style.display;m.style.display="none"});B.insertHTML(document.body,"beforeEnd","<img id='"+i+"' src='"+V+"' />");window.print();B.dom.remove(i);B.array.each(document.body.childNodes,function(m,l){m.style.display=k[l]});return }else{if(!B.g(i)){B.insertHTML(document.body,"beforeEnd",B.format("<iframe id='#{id}' style='display:;' frameborder=0></iframe>",{id:i}))}else{B.g(i).innerHTML=""}var j=B.g(i).contentWindow;j.document.write("<img src='"+B.encodeHTML(V)+"' />");j.print();B.dom.remove(i)}}function c(){if(S.imgPanel){var j=S.imgPanel.split(",");B.array.each(j,function(l){b(l)})}else{var k=document.getElementsByTagName("img");B.array.each(k,function(l){B.on(l,"mouseover",function(m){if(U(l)){h.hoverElement=B.event.getTarget(m||window.event);h.start()}});B.on(l,"mouseout",function(){if(U(l)){h.abort()}})})}}function b(j){j=B.g(j);if(j){B.on(j,"mousemove",function(l){var k=g(j,l||window.event);if(h.hoverElement!=k){if(k&&U(k)){h.hoverElement=k;h.start()}else{if(h.hoverElement){h.abort()}}}});B.on(j,"mouseout",function(m){var l=B.dom.getPosition(j),k={x1:l.left,y1:l.top,x2:l.left+j.offsetWidth,y2:l.top+j.offsetHeight};if(!L(k,B.getMousePos(m||window.event))){h.abort()}})}}function g(k,m){var j=B.getMousePos(m),n=k.getElementsByTagName("img"),l=null;B.array.each(n,function(q){if(U(q)){var o=B.dom.getPosition(q),p={x1:o.left,y1:o.top,x2:o.left+q.offsetWidth,y2:o.top+q.offsetHeight};if(L(p,j)){l=q;return false}}});return l}function L(k,j){return(j.x>=k.x1&&(j.x<=k.x2)&&(j.y>=k.y1)&&(j.y<=k.y2))}function U(k){var j=true;if(S.minHeight&&S.minHeight>k.offsetHeight){j=false}else{if(S.minWidth&&S.minWidth>k.offsetWidth){j=false}else{if(S.enableClass&&!B.dom.hasClass(k,S.enableClass)){j=false}else{if(S.disableClass&&B.dom.hasClass(k,S.disableClass)){j=false}else{if(k.offsetWidth<100||(k.offsetHeight<100)){j=false}}}}}return j}function N(m){if(!M){return }if(S.type=="list"){var s={small:{lbl:53,pright:8,item:18},big:{lbl:61,pright:8,item:37}},j=s[S.size],v=Math.floor((m.offsetWidth-j.lbl-j.pright-10)/j.item),q=M.getButtons();for(var o=0,n=q.length-1;o<n;o++){if(o<(v-1)){B.show(q[o])}else{B.hide(q[o])}}}var t=B.g(M.getEntity()),r={width:t.offsetWidth,height:t.offsetHeight},p={width:m.offsetWidth,height:m.offsetHeight},k=Y(B.dom.getPosition(m),p,r),u={position:"absolute",top:k.top+"px",left:k.left+"px"};if(S.type=="list"){u.width=p.width+"px"}B.setStyles(t,u)}function Y(k,j,l){if(S.type=="list"){return{top:k.top+(S.pos=="bottom"?j.height-l.height:0),left:k.left}}if(S.type=="collection"){return{top:k.top+(S.pos.toLowerCase().indexOf("bottom")>-1?j.height-l.height-5:5),left:k.left+(S.pos.toLowerCase().indexOf("left")>-1?5:j.width-l.width-5)}}else{return{top:k.top+(S.pos=="bottom"?j.height-l.height:0),left:k.left+(j.width-l.width)}}}function d(j){S=j;M=new A(j);B.insertHTML(document.body,"beforeEnd",M.render());M.init();M.on("click",function(k){if(k.cmd=="copy"){Z()}else{if(k.cmd=="print"){O()}else{W(k.cmd,k.element,k.domEvent)}}});h=new K({time:200,startFn:function(){if(!h.element||(h.element!=h.hoverElement)){if(j.type!="collection"||j.hidden!="share collect"){M.clearPop()}h.element=h.hoverElement;V=h.hoverElement.src;B.show(M.getEntity());N(h.hoverElement)}},abortFn:function(){if(!M.hasPop()){h.element=null;h.hoverElement=null;V="";B.hide(M.getEntity())}}});B.on(M.getEntity(),"mouseover",function(){h.clearAbort()});B.on(M.getEntity(),"mouseout",function(){h.abort()});I.anti.sloc.init(0);I.anti.timespan.init()}function a(k){if(k.type=="list"&&(!k.list||(k.list.length==0))){k.list=["qzone","tsina","tqq","renren","t163"]}d(k);c();if(!I.isShareWeb){var l=/(\d+\-[a-zA-Z\d]+\-\d+\-\d+\-[a-f\d]+)/ig,j=(location.href.match(l)||"").toString();var m={single:1,list:2,collection:4}[S.type];bdShare._LogPool.push({key:"img",api:{uid:k.uid||"",linkid:I.anti.getLinkId(),type:m,size:k.size,pos:k.pos,color:k.color,loadTime:(bdShare.imgshareStartTime?new Date().getTime()-bdShare.imgshareStartTime:"")}})}}function P(j){M&&M.destroy();I.anti.sloc.destory();d(j)}function e(j){V=j;M&&M.showAllPop()}function Q(){M&&M.clearAllPop()}function R(){M&&M.clearHoverPop()}function X(j,k){V=j;if(M){M.showHoverPop(k)}}var T={init:a,refresh:P};if(/\.baidu\.com$/.test(document.location.hostname)){T.showAllPop=e;T.showHoverPop=X;T.closeAllPop=Q;T.closeHoverPop=R}return T})();B.page.loadCssFile(D.staticUrl+"/static/css/imgshare.css?cdnversion=20121228");var C=(typeof bdShare_config_imgshare!="undefined"?bdShare_config_imgshare:{type:"list",pos:"bottom",color:"black",size:"big",list:["qzone","tsina","huaban","tqq","renren"],uid:""});if(C.type!="collection"&&C.size=="middle"){C.size="small"}E.init(C);H.ImgShare=E})(bdShare);